# 농산물 직거래 플랫폼 PRD (Product Requirements Document)

## 1. 프로젝트 개요

### 1.1 프로젝트 명
농산물 직거래 플랫폼 "푸룻(FRUT)"

### 1.2 목적
농산물 생산자(농장)와 소비자를 직접 연결하여 중간 유통 단계를 생략하고, 신선한 농산물을 합리적인 가격에 거래할 수 있는 온라인 플랫폼 구축

### 1.3 목표
- 농산물 생산자의 수익 향상 및 판로 확대
- 소비자에게 신선하고 안전한 농산물 제공
- 투명한 생산 정보 공개를 통한 신뢰성 구축
- 농장과 소비자 간의 지속적인 관계 형성

## 2. 사용자 유형 및 페르소나

### 2.1 소비자 (Consumer)
- **주요 특징**: 신선하고 안전한 농산물을 원하는 개인 고객
- **니즈**: 합리적 가격, 품질 보장, 배송 서비스, 생산 과정 투명성
- **주요 기능**: 상품 검색/구매, 리뷰 작성, 농장 팔로우, 찜하기

### 2.2 판매자 (Seller/농장)
- **주요 특징**: 농산물을 직접 생산하는 농장 운영자
- **니즈**: 안정적인 판로 확보, 수수료 절감, 브랜딩, 고객과의 소통
- **주요 기능**: 상품 등록/관리, 주문 처리, 농장 소식 공유, 고객 관리

### 2.3 관리자 (Admin)
- **주요 특징**: 플랫폼 운영진
- **니즈**: 효율적인 운영 관리, 품질 관리, 분쟁 해결
- **주요 기능**: 사용자 관리, 판매자 승인, 정산 관리, 콘텐츠 관리

## 3. 핵심 기능 요구사항

### 3.1 사용자 관리 도메인
#### 회원가입/로그인
- 일반 회원가입 (이메일, 전화번호)
- SNS 로그인 (네이버, 카카오)
- 사용자 유형 선택 (소비자/판매자)
- 프로필 관리 및 배송지 관리

### 3.2 판매자 등록 도메인
#### 판매자 신청 프로세스
- 사업자등록증, 통신판매업신고증 등 필수 서류 제출
- 농장 프로필 생성 (농장명, 소개, 위치 등)
- 관리자 승인 후 판매 활동 시작
- 농장 소식 및 뉴스 발행 기능

### 3.3 상품 관리 도메인
#### 상품 등록 및 관리
- 카테고리별 상품 분류 (과일, 채소, 곡물 등)
- 상품 상세 정보 (가격, 재고, 생산 정보, 인증서 등)
- 상품 이미지 및 배지 시스템
- 특가 상품 관리

### 3.4 쇼핑 도메인
#### 구매 프로세스
- 상품 검색 및 필터링
- 장바구니 및 찜하기 기능
- 농장 팔로우 기능

### 3.5 주문/배송 도메인
#### 주문 처리
- 주문 접수 및 확인
- 배송 정보 관리 (택배사, 송장번호)
- 주문 상태 추적
- 배송 완료 알림

### 3.6 리뷰/평점 도메인
#### 후기 시스템
- 구매 확정 후 리뷰 작성
- 별점(1-5점) 평가
- 사진 리뷰 지원
- 리뷰 기반 상품 평점 산출

### 3.7 혜택 관리 도메인
#### 쿠폰 및 포인트
- 쿠폰 발행 및 사용 (정액/퍼센트 할인)
- 포인트 적립 및 사용
- 포인트 이력 관리

### 3.8 정산 도메인
#### 판매자 정산
- 주기별 매출 정산 (주/월 단위)
- 수수료 및 부가세 계산
- 정산 내역 제공

### 3.9 운영 관리 도메인
#### 플랫폼 운영
- 배너 광고 관리
- 팝업 공지사항
- 서비스 정책 및 약관 관리

## 4. 기술 스택

### 4.1 Backend
- **Framework**: Django 4.2.19
- **API**: Django REST Framework 3.14.0
- **Authentication**: JWT (djangorestframework-simplejwt)
- **Database**: MySQL 8.0
- **Cache**: Redis
- **Environment**: Python 3.11+

### 4.2 Architecture
- **Design Pattern**: Domain-Driven Design
- **Apps Structure**:
  - users: 사용자 관리
  - sellers: 판매자 및 농장 관리
  - products: 상품 관리
  - shopping: 장바구니, 찜하기
  - orders: 주문 및 배송
  - reviews: 리뷰 및 평점
  - benefits: 쿠폰 및 포인트
  - settlements: 정산 관리
  - operations: 운영 관리
  - common: 공통 기능

## 5. 데이터베이스 설계

### 5.1 주요 테이블 구조
- **users**: 사용자 기본 정보 (AbstractUser 확장)
- **user_addresses**: 배송지 관리
- **seller_applications**: 판매자 신청서
- **farm_profiles**: 농장 프로필
- **products**: 상품 정보
- **categories**: 상품 카테고리
- **orders**: 주문 정보
- **order_items**: 주문 상품 상세
- **reviews**: 상품 리뷰
- **coupons**: 쿠폰 마스터
- **point_histories**: 포인트 이력

### 5.2 공통 필드
모든 테이블에 다음 필드 포함:
- created_at: 생성일시
- updated_at: 수정일시
- created_by: 생성자
- updated_by: 수정자

## 6. 주요 비즈니스 로직

### 6.1 판매자 승인 프로세스
1. 사용자가 판매자 신청서 작성
2. 필수 서류 업로드
3. 관리자 검토 및 승인/반려
4. 승인 시 농장 프로필 생성 가능

### 6.2 주문 처리 프로세스
1. 소비자 주문 생성
2. 재고 차감 및 주문 확인
3. 판매자 출고 처리
4. 배송 정보 등록
5. 배송 완료 및 구매 확정

### 6.3 정산 프로세스
1. 설정된 주기(주/월)에 따른 정산
2. 매출액에서 수수료 및 부가세 차감
3. 실제 정산 금액 계산
4. 정산 내역서 생성

## 7. 보안 및 인증

### 7.1 인증 방식
- JWT 토큰 기반 인증
- Access Token (1일) + Refresh Token (14일)
- SNS OAuth 연동 (네이버, 카카오)

### 7.2 권한 관리
- 사용자별 권한 체계
- API 엔드포인트별 권한 제어
- 민감 정보 암호화

## 8. 성능 및 확장성

### 8.1 캐싱 전략
- Redis를 활용한 세션 관리
- 자주 조회되는 데이터 캐싱
- 상품 정보 및 카테고리 캐싱

### 8.2 데이터베이스 최적화
- 적절한 인덱스 설정
- 복합 인덱스 활용
- 쿼리 최적화

## 9. 운영 및 모니터링

### 9.1 로깅
- 사용자 활동 로그
- 에러 로그 및 추적
- 성능 모니터링

### 9.2 관리자 도구
- Django Admin 인터페이스
- 실시간 통계 대시보드
- 사용자 및 주문 관리 도구

## 10. 향후 확장 계획

### 10.1 추가 기능
- 실시간 채팅 시스템
- 구독 서비스
- 모바일 앱 개발
- 결제 시스템 고도화

### 10.2 기술적 개선
- MSA 아키텍처로의 전환
- Docker 컨테이너화
- CI/CD 파이프라인 구축
- 클라우드 인프라 확장

---

**문서 버전**: v1.0  
**작성일**: 2025-09-02  
**작성자**: Django Development Team